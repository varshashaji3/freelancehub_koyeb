<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  {% load static %}
  <title>FreelanceHub</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="{%  static 'vendors/feather/feather.css'  %}">
  <link rel="stylesheet" href="{%  static 'vendors/ti-icons/css/themify-icons.css' %}">
  <link rel="stylesheet" href="{%  static 'vendors/css/vendor.bundle.base.css' %}">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="{%  static 'vendors/datatables.net-bs4/dataTables.bootstrap4.css' %}">
  <link rel="stylesheet" href="{%  static 'vendors/ti-icons/css/themify-icons.css' %}">
  <link rel="stylesheet" type="text/css" href="{%  static 'js/select.dataTables.min.css' %}">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="{%  static 'css/vertical-layout-light/style.css' %}">
  <!-- endinject -->
  <link rel="shortcut icon" href="{%  static 'images/favicon.png' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

  

<style>
  toastr{
    z-index:1000;
  }

  body.dark-theme {
    background-color: #1a1a1a;
    color: #e0e0e0;
  }

  body.dark-theme .navbar,
  body.dark-theme .sidebar,
  body.dark-theme .content-wrapper,
  body.dark-theme .footer {
    background-color: #2a2a2a;
    color: #e0e0e0;
  }

  body.dark-theme .card,
  body.dark-theme .navbar-dropdown,
  body.dark-theme .dropdown-menu {
    background-color: #333;
    color: #e0e0e0;
  }

  body.dark-theme .card-title,
  body.dark-theme .card-description {
    color: #e0e0e0;
  }

  body.dark-theme .text-muted,
  body.dark-theme .menu-title,
  body.dark-theme .nav-link {
    color: #bbb !important;
  }

  body.dark-theme .form-control,
  body.dark-theme .input-group-text {
    background-color: #444;
    color: #e0e0e0;
    border-color: #555;
  }

  body.dark-theme .table {
    color: #e0e0e0;
  }

  body.dark-theme .table-hover tbody tr:hover {
    background-color: #3a3a3a;
  }

  body.dark-theme .border-bottom {
    border-bottom-color: #444 !important;
  }

  body.dark-theme .bg-white {
    background-color: #2a2a2a !important;
  }

  body.dark-theme .text-dark {
    color: #e0e0e0 !important;
  }

  body.dark-theme .btn-light {
    background-color: #444;
    color: #e0e0e0;
    border-color: #555;
  }

  body.dark-theme .btn-light:hover {
    background-color: #555;
  }

  #theme-toggle {
    background: none;
    border: none;
    color: inherit;
    font-size: 1.2rem;
  }

  .sidebar {
    position: fixed;
    height: 100vh;
    overflow-y: auto;
    z-index: 999;
  }

  .main-panel {
    margin-left: 260px; /* Adjust this value based on your sidebar width */
    width: calc(100% - 260px);
  }

  @media (max-width: 991px) {
    .sidebar {
      position: fixed;
      transform: translateX(-260px);
      transition: transform 0.3s ease;
    }

    .sidebar.active {
      transform: translateX(0);
    }

    .main-panel {
      margin-left: 0;
      width: 100%;
    }
  }
</style>
  <script>
      toastr.options = {
          "closeButton": true,
          "debug": false,
          "newestOnTop": true,
          "progressBar": true,
          "positionClass": "toast-top-right",
          "preventDuplicates": true,
          "onclick": null,
          "showDuration": "300",
          "hideDuration": "1000",
          "timeOut": "5000",
          "extendedTimeOut": "1000",
          "showEasing": "swing",
          "hideEasing": "linear",
          "showMethod": "fadeIn",
          "hideMethod": "fadeOut"
      };
  </script>
  
  <script>
        $(document).ready(function() {
            {% if messages %}
                {% for message in messages %}
                    toastr.options = {
                        "closeButton": true,
                        "progressBar": true
                    };
                    toastr.{{ message.tags }}("{{ message }}");
                {% endfor %}
            {% endif %}
        });
    </script>
  
</head>
<body>
  <div class="container-scroller">
    <!-- partial:partials/_navbar.html -->
    <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
      <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
        <a class="navbar-brand brand-logo mr-5" href="index.html"><img src="{% static 'img/logo.png' %}" class="mr-2" alt="logo"/></a>
      </div>
      <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
        <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
          <span class="icon-menu"></span>
        </button>
        
        <ul class="navbar-nav navbar-nav-right">
          <li class="nav-item dropdown">
            <a class="nav-link count-indicator dropdown-toggle" id="notificationDropdown" href="#" data-toggle="dropdown">
              <i class="icon-bell mx-0"></i>
              <span style="margin-left:8px;color:white; font-size:10px;background-color:rgb(14, 14, 160);margin-top:-5px;height:16px;width:16px;" class="count">{{ unread_notifications.count }}</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
              <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>
              {% for notification in unread_notifications %}
              <a class="dropdown-item preview-item">
                  <div class="d-flex align-items-center">
                      <div class="preview-thumbnail">
                          <div class="preview-icon bg-success">
                              <i class="ti-info-alt mx-0"></i>
                          </div>
                      </div>
                      <div class="preview-item-content flex-grow-1">
                          <h6 class="preview-subject font-weight-normal">{{ notification.message }}</h6>
                          <p class="font-weight-light small-text mb-0 text-muted">
                              {{ notification.created_at|timesince }} ago
                          </p>
                      </div>
                      <form action="{% url 'administrator:notification_mark_as_read' not_id=notification.id %}?next={{ request.path }}" method="post">

                        {% csrf_token %}
                        <button type="submit" class="btn btn-sm btn-link">Mark as Read</button>
                    </form>
                    
                  </div>
              </a>
              {% empty %}
              <p class="font-weight-light small -text mb-0 text-muted">No unread notifications</p>
              {% endfor %}
          </div>
          </li>
          <li class="nav-item nav-search d-none d-lg-block">
            <p>Hi ,Admin</p>
          </li>
          <!-- <li class="nav-item">
            <button id="theme-toggle" class="btn btn-link nav-link">
              <i class="fas fa-moon"></i>
            </button>
          </li> -->
          <li class="nav-item nav-profile dropdown">
            {% if profile.profile_picture %}
            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
              <img src="{{  profile.profile_picture.url }}" alt="profile"/>
            </a>
            {% endif %}
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
              
              <a class="dropdown-item" href="{% url 'administrator:account_settings' %}">
                <i class="ti-settings text-primary"></i>
                Profile
              </a>
              
              <a class="dropdown-item">
                <i class="ti-power-off text-primary"></i>
                Logout
              </a>
            </div>
          </li>
          
        </ul>
        
      </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:partials/_settings-panel.html -->
      <div class="theme-setting-wrapper">
        <div id="settings-trigger"><i class="ti-settings"></i></div>
        <div id="theme-settings" class="settings-panel">
          <i class="settings-close ti-close"></i>
          <p class="settings-heading">SIDEBAR SKINS</p>
          <div class="sidebar-bg-options selected" id="sidebar-light-theme"><div class="img-ss rounded-circle bg-light border mr-3"></div>Light</div>
          <div class="sidebar-bg-options" id="sidebar-dark-theme"><div class="img-ss rounded-circle bg-dark border mr-3"></div>Dark</div>
          <p class="settings-heading mt-2">HEADER SKINS</p>
          <div class="color-tiles mx-0 px-4">
            <div class="tiles success"></div>
            <div class="tiles warning"></div>
            <div class="tiles danger"></div>
            <div class="tiles info"></div>
            <div class="tiles dark"></div>
            <div class="tiles default"></div>
          </div>
        </div>
      </div>
      
      <!-- partial -->
      <!-- partial:partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'administrator:admin_view' %}">
              <i class="icon-grid menu-icon"></i>
              <span class="menu-title">Dashboard</span>
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#account" aria-expanded="false" aria-controls="ui-basic">
              <i class="fas fa-user-circle menu-icon"></i>
              <span class="menu-title">Account</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="account">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:account_settings' %}?section=profile">Profile</a></li>
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:account_settings' %}?section=reset_password">Reset password</a></li>
              </ul>
            </div>
          </li>
          
        

          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#Portfolio" aria-expanded="false" aria-controls="ui-basic">
              <i class="fas fa-folder-open menu-icon"></i>
              <span class="menu-title">Portfolio</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="Portfolio">
              <ul class="nav flex-column sub-menu">
               
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:add_template' %}">Add Template</a></li>
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:template_list' %}">Templates</a></li>
                
              </ul>
            </div>
          </li>


          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#work" aria-expanded="false" aria-controls="ui-basic">
              <i class="fas fa-users menu-icon"></i>
              <span class="menu-title">Users</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="work">
              <ul class="nav flex-column sub-menu">
               
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:user_list' %}">View Users</a></li>
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:allusers' %}">All  Users</a></li>
                
              </ul>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'administrator:projects' %}">
              <i class="fas fa-tasks menu-icon"></i>
              <span class="menu-title">Projects</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'administrator:reviews' %}">
              <i class="fas fa-star menu-icon"></i>
              <span class="menu-title">Site Reviews</span>
            </a>
          </li>
             

          

          

          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#complaints" aria-expanded="false" aria-controls="ui-basic">
              <i class="fas fa-user-circle menu-icon"></i>
              <span class="menu-title">Complaints</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="complaints">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:complaints' %}">All Compalints</a></li>
                <li class="nav-item"> <a class="nav-link" href="{% url 'administrator:site_complaints' %}">Site Complaints</a></li>
              </ul>
            </div>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'administrator:events' %}">
              <i class="fas fa-calendar-alt menu-icon"></i>
              <span class="menu-title">Events</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">
              <i class="fas fa-sign-out-alt menu-icon"></i>
              <span class="menu-title">Logout</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
         {% block 'admin_content' %}
         
         
         {% endblock %}
        </div>
      </div>
      <!-- main-panel ends -->
    </div>   
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->


  <script src="{%  static 'vendors/js/vendor.bundle.base.js' %}"></script>
  <!-- endinject -->
  <!-- Plugin js for this page -->
  <script src="{%  static 'vendors/chart.js/Chart.min.js' %}"></script>
  <script src="{%  static 'vendors/datatables.net/jquery.dataTables.js' %}"></script>
  <script src="{%  static 'vendors/datatables.net-bs4/dataTables.bootstrap4.js' %}"></script>
  <script src="{%  static 'js/dataTables.select.min.js' %}"></script>

  <script src="{%  static 'js/off-canvas.js' %}"></script>
  <script src="{%  static 'js/hoverable-collapse.js' %}"></script>
  <script src="{%  static 'js/template.js' %}"></script>
  <script src="{%  static 'js/settings.js' %}"></script>
  <script src="{%  static 'js/todolist.js' %}"></script>
  <!-- endinject -->
  <!-- Custom js for this page-->
  <script src="{%  static 'js/dashboard.js' %}"></script>
  <script src="{%  static 'js/Chart.roundedBarCharts.js' %} "></script>
  <!-- Add this script before the closing </body> tag -->
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      const themeToggle = document.getElementById('theme-toggle');
      const body = document.body;
      const icon = themeToggle.querySelector('i');

      themeToggle.addEventListener('click', () => {
        body.classList.toggle('dark-theme');
        if (body.classList.contains('dark-theme')) {
          icon.classList.remove('fa-moon');
          icon.classList.add('fa-sun');
        } else {
          icon.classList.remove('fa-sun');
          icon.classList.add('fa-moon');
        }
      });
    });
  </script>
</body>

</html>
